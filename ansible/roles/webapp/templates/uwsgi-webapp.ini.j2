#################################
## Written Florian by Dambrine
## Generated by: Ansible
#################################

[uwsgi]
### Variables
base = {{ webapp_root }}

### Parameters
master = true
processes = {{ ansible_processor_cores | default(2) }}

uid = {{ webapp_user }}
gid = {{ webapp_group }}

module = app
callable = app
virtualenv = %(base)/.env

{% for env in webapp_env %}
env = {{ env }}
{% endfor %}

### Sockets
socket = 127.0.0.1:8080
stats = 127.0.0.1:1717

logto = /var/log/uwsgi/%n.log
pidfile = /var/run/%n.pid

manage-script-name = true

touch-reload = /var/run/%n.pid
